!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("prop-types"),require("bootstrap-styled"),require("styled-components"),require("classnames"),require("loaders")):"function"==typeof define&&define.amd?define(["react","prop-types","bootstrap-styled","styled-components","classnames","loaders"],n):e["login-form"]=n(e.React,e.PropTypes,e.BootstrapStyled,e.styled,e.cn,e.loaders)}(this,function(e,n,r,o,t,a){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var s="default"in o?o.default:o;t=t&&t.hasOwnProperty("default")?t.default:t;!function(){function e(e){this.value=e}function n(n){function r(t,a){try{var s=n[t](a),i=s.value;i instanceof e?Promise.resolve(i.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(s.done?"return":"normal",s.value)}catch(e){o("throw",e)}}function o(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?r(t.key,t.arg):a=null}var t,a;this._invoke=function(e,n){return new Promise(function(o,s){var i={key:e,arg:n,resolve:o,reject:s,next:null};a?a=a.next=i:(t=a=i,r(e,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)}}();var i=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},l=function(){function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,r,o){return r&&e(n.prototype,r),o&&e(n,o),n}}(),m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},c=function(e,n){var r={};for(var o in e)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r},p=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},f=r.makeTheme({loginForm:{"$background-color":"#fff","$color-lighter":"#EDEDED","$color-light":"#999",$color:"#666","$color-dark":"#333"}}),d={url:"/",header:null,footer:null,localToggle:null,formData:{username:"",password:""},placeHolder:{username:"Santaclauze",password:"••••••••••"},onSubmit:null,onChange:null,onError:null,isSending:!1,theme:f,messages:{title:"Login",username:"Username",password:"Password",buttonLogin:"Login",error:"Please fill out the entire form"}},g={theme:f},h=s(r.Button).withConfig({displayName:"LoginForm__LoadingButton"})(["",""],function(e){return"\n    &>span:first-child {\n      padding-right: "+e.theme["$padding-base-vertical"]+";\n    }\n  "});h.defaultProps=g;var b=function(n){function o(){var e,n,r,t;i(this,o);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=p(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(s))),r.onSubmit=function(e){e.preventDefault();var n=r.props,o=n.formData,t=n.onSubmit,a=n.onError,s=n.messages,i=r.validateForm(o);i&&t?t(o):!i&&a&&a(new Error(s.error))},r.changePassword=function(e){var n=r.mergeFormData({password:e.target.value});r.onChange(n)},r.changeUsername=function(e){var n=r.mergeFormData({username:e.target.value});r.onChange(n)},t=n,p(r,t)}return u(o,n),l(o,[{key:"onChange",value:function(e){var n=this.props.onChange;n(e)}},{key:"mergeFormData",value:function(e){var n=this.props.formData;return Object.assign(n,e)}},{key:"validateForm",value:function(e){return e.username.trim().length>0&&e.password.trim().length>0}},{key:"render",value:function(){var n=this.props,o=n.url,s=n.className,i=n.isSending,l=n.messages,u=n.placeHolder,p=n.header,f=n.footer,g=n.localToggle,b=c(n,["url","className","isSending","messages","placeHolder","header","footer","localToggle"]),y=Object.assign({},d.messages,l),w=(b.formData,b.onSubmit,b.onError,b.onChange,c(b,["formData","onSubmit","onError","onChange"]));return e.createElement(r.Form,m({action:o,name:"login-form",className:t("form",s),onSubmit:this.onSubmit},w),p,e.createElement("div",{className:"form__field-wrapper"},e.createElement("input",{className:"form__field-input",name:"username",type:"text",placeholder:u.username,onChange:this.changeUsername,autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),e.createElement("label",{className:"form__field-label",htmlFor:"username"},y.username)),e.createElement("div",{className:"form__field-wrapper"},e.createElement("input",{className:"form__field-input",name:"password",type:"password",placeholder:u.password,onChange:this.changePassword}),e.createElement("label",{className:"form__field-label",htmlFor:"password"},y.password)),e.createElement("div",{className:"form__submit-btn-wrapper"},i?e.createElement(h,{disabled:!0,color:"primary"},y.buttonLogin," ",e.createElement(a.LoadingIndicator,null)):e.createElement("div",null,g,e.createElement(r.Button,{color:"success"},y.buttonLogin))),f)}}]),o}(e.Component);b.defaultProps=d,b.propTypes={header:n.node,footer:n.node,localToggle:n.node,url:n.string,isSending:n.bool,className:n.string.isRequired,onSubmit:n.func,onChange:n.func,formData:n.shape({username:n.string,password:n.string}),placeHolder:n.shape({username:n.string,password:n.string}),onError:n.func,messages:n.shape({title:n.string,username:n.string,password:n.string,buttonLogin:n.string,error:n.string})};var y=s(b).withConfig({displayName:"LoginForm"})(["",""],function(e){return"\n    .form__field-wrapper {\n      width: 100%;\n      position: relative;\n      padding-top: 1.75em;\n      border-top: 1px solid "+e.theme.loginForm["$color-lighter"]+";\n      border-bottom: 1px solid "+e.theme.loginForm["$color-lighter"]+";\n      background-color: "+e.theme.loginForm["$background-color"]+";\n    }\n    \n    .form__field-wrapper + .form__field-wrapper {\n      border-top: none;\n    }\n    \n    .form__field-input:focus ~ .form__field-label {\n      color: "+e.theme.loginForm.$color+";\n      background-color: "+e.theme.loginForm["$color-lighter"]+";\n    }\n    \n    .form__field-input:focus {\n      background-color: "+e.theme.loginForm["$color-lighter"]+";\n      color: "+e.theme.loginForm["$color-dark"]+";\n    }\n    \n    .form__field-label {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      padding: 16px;\n      padding-top: 20px;\n      padding-bottom: 0;\n      margin: 0;\n      z-index: 1;\n      font-size: .8em;\n      color: "+e.theme.loginForm["$color-light"]+";\n      font-weight: 400;\n      user-select: none;\n      cursor: text;\n    }\n    \n    .form__field-input {\n      position: relative;\n      padding: 1.625em 16px;\n      width: 100%;\n      color: "+e.theme.loginForm.$color+";\n      border: none;\n      font-family: inherit;\n      outline: 0;\n      letter-spacing: 0.05em;\n    }\n    \n    .form__submit-btn-wrapper {\n      padding: 2em 1em;\n      width: 100%;\n      background-color: "+e.theme.loginForm["$background-color"]+";\n      display: flex;\n      justify-content: center;\n    }\n  "});y.defaultProps=d;var w={url:"/",logo:null,version:null,formData:{username:"",password:""},onSubmit:null,onChange:null,onError:null,isSending:!1,success:null,error:null,messages:{title:"Login",username:"Username",password:"Password",buttonLogin:"Login",error:"Please fill out the entire form"},theme:r.makeTheme({loginForm:{"$background-color":"#fff","$box-shadow":"0px 1px 3px rgba(0, 0, 0, 0.25)","$border-radius":"3px","$color-lighter":"#EDEDED","$max-width":"325px"}})},_=function(n){function o(){return i(this,o),p(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return u(o,n),l(o,[{key:"render",value:function(){var n=this.props,o=n.logo,a=n.version,s=n.className,i=n.url,l=n.isSending,m=n.onSubmit,u=n.onError,c=n.onChange,p=n.formData,f=n.success,d=n.error,g=n.messages,h=Object.assign({},w.messages,g);return e.createElement("div",{className:t(s,"form-page__wrapper")},e.createElement("div",{className:"form-page__form-wrapper"},e.createElement("div",{className:"form-page__form-header text-center"},e.createElement("h2",{className:"form-page__form-heading"},h.title),o),f&&e.createElement(r.Alert,{className:"mx-2 alert-success"},f),d&&e.createElement(r.Alert,{className:"mx-2 alert-danger"},d),e.createElement(y,{url:i,formData:p,onSubmit:m,onChange:c,onError:u,isSending:l,messages:h}),a&&e.createElement(r.Small,{className:"text-center d-block"},a)))}}]),o}(e.Component);_.defaultProps=w,_.propTypes={logo:n.string,version:n.string,className:n.string.isRequired,url:n.string,isSending:n.bool,onSubmit:n.func,onError:n.func,onChange:n.func,formData:n.shape({username:n.string,password:n.string}).isRequired,success:n.any,error:n.any,messages:n.shape({title:n.string,username:n.string,password:n.string,buttonLogin:n.string,error:n.string})};var v=o.keyframes(["0%{transform:translateX(0);}25%{transform:translateX(10px);}75%{transform:translateX(-10px);}100%{transform:translateX(0);}"]),x=s(_).withConfig({displayName:"FormPageWrapper"})(["",""],function(e){return"\n  \n    margin-top: calc("+1.25*e.theme.$spacer+");\n    \n    &.form-page__wrapper {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      width: 100%;\n    }\n    \n    .form-page__form-wrapper {\n      max-width: "+e.theme.loginForm["$max-width"]+";\n      width: 100%;\n      border: 1px solid "+e.theme.loginForm["$color-lighter"]+";\n      "+r.radius.all(e.theme["$enable-rounded"],e.theme.loginForm["$border-radius"])+"      \n      "+r.boxShadow(e.theme["$enable-shadows"],e.theme.loginForm["$box-shadow"])+"\n      background-color: "+e.theme.loginForm["$background-color"]+";\n    }\n    \n    .form-page__form-heading {\n      text-align: center;\n      font-size: "+e.theme["$font-size-base"]+";\n      user-select: none;\n    }\n    \n    .form-page__form-header {\n      padding: "+e.theme.$spacer+";\n    }\n    \n    & .js-form__err-animation {\n      animation: "+v+" "+e.theme["$motion-delay"].sm+" "+e.theme["$motion-timing-function"].easeInOut+"\n    }\n\n  "});return x.defaultProps=w,x});
//# sourceMappingURL=login-form.min.js.map
