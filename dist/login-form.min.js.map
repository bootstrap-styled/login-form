{"version":3,"file":"login-form.min.js","sources":["../src/LoginForm/theme.js","../src/LoginForm/LoginForm.js","../src/LoginForm/FormPageWrapper.js"],"sourcesContent":["const theme = makeTheme();\n\nexport default theme;\n\nexport function makeTheme(userTheme = {}) {\n  const newTheme = { loginForm: {} };\n  const u = userTheme;\n\n  // FormPageWrapper\n  newTheme.loginForm['$background-color'] = u.loginForm && u.loginForm['$background-color'] ? u.loginForm['$background-color'] : '#fff';\n  newTheme.loginForm['$box-shadow'] = u.loginForm && u.loginForm['$box-shadow'] ? u.loginForm['$box-shadow'] : '0px 1px 3px rgba(0, 0, 0, 0.25)';\n  newTheme.loginForm['$border-radius'] = u.loginForm && u.loginForm['$border-radius'] ? u.loginForm['$border-radius'] : '3px';\n  newTheme.loginForm['$color-lighter'] = u.loginForm && u.loginForm['$color-lighter'] ? u.loginForm['$color-lighter'] : '#EDEDED';\n  newTheme.loginForm['$max-width'] = u.loginForm && u.loginForm['$max-width'] ? u.loginForm['$max-width'] : '325px';\n\n  // LoginForm\n  newTheme.loginForm['$color-lighter'] = u.loginForm && u.loginForm['$color-lighter'] ? u.loginForm['$color-lighter'] : '#EDEDED';\n  newTheme.loginForm['$color-light'] = u.loginForm && u.loginForm['$color-light'] ? u.loginForm['$color-light'] : '#999';\n  newTheme.loginForm.$color = u.loginForm && u.loginForm.$color ? u.loginForm.$color : '#666';\n  newTheme.loginForm['$color-dark'] = u.loginForm && u.loginForm['$color-dark'] ? u.loginForm['$color-dark'] : '#333';\n\n  return newTheme;\n}\n","/**\n * Form.react.js\n *\n * The form with a username and a password input field, both of which are\n * controlled via the application state.\n *\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport cn from 'classnames';\nimport { LoadingIndicator } from 'loaders';\nimport { Form, Button, makeTheme } from 'bootstrap-styled';\nimport themeLoginForm from './theme';\n\nconst theme = makeTheme(themeLoginForm);\n\nexport const defaultProps = {\n  url: '/',\n  header: null,\n  footer: null,\n  localToggle: null,\n  formData: {\n    username: '',\n    password: '',\n  },\n  placeHolder: {\n    username: 'Santaclauze',\n    password: '••••••••••',\n  },\n  onSubmit: null,\n  onChange: null,\n  onError: null,\n  isSending: false,\n  theme,\n  messages: {\n    title: 'Login',\n    username: 'Username',\n    password: 'Password',\n    buttonLogin: 'Login',\n    error: 'Please fill out the entire form',\n  },\n};\n\nconst loadingButtonDefaultProps = {\n  theme,\n};\n\nconst LoadingButton = styled(Button)`\n  ${(props) => `\n    &>span:first-child {\n      padding-right: ${props.theme['$padding-base-vertical']};\n    }\n  `}\n`;\n\nLoadingButton.defaultProps = loadingButtonDefaultProps;\n\nclass LoginFormUnstyled extends React.Component {\n  static defaultProps = defaultProps;\n  static propTypes = {\n    header: PropTypes.node,\n    footer: PropTypes.node,\n    localToggle: PropTypes.node,\n    url: PropTypes.string,\n    isSending: PropTypes.bool,\n    className: PropTypes.string.isRequired,\n    onSubmit: PropTypes.func,\n    onChange: PropTypes.func,\n    formData: PropTypes.shape({\n      username: PropTypes.string,\n      password: PropTypes.string,\n    }),\n    placeHolder: PropTypes.shape({\n      username: PropTypes.string,\n      password: PropTypes.string,\n    }),\n    onError: PropTypes.func,\n    messages: PropTypes.shape({\n      title: PropTypes.string,\n      username: PropTypes.string,\n      password: PropTypes.string,\n      buttonLogin: PropTypes.string,\n      error: PropTypes.string,\n    }),\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { formData, onSubmit, onError, messages } = this.props;\n    const isValidated = this.validateForm(formData);\n    if (isValidated && onSubmit) {\n      onSubmit(formData);\n    } else if (!isValidated && onError) {\n      onError(new Error(messages.error));\n    }\n  }\n\n  onChange(formData) {\n    const { onChange } = this.props;\n    onChange(formData);\n  }\n\n  changePassword = (e) => {\n    const newState = this.mergeFormData({\n      password: e.target.value,\n    });\n    this.onChange(newState);\n  }\n\n  changeUsername = (evt) => {\n    const newState = this.mergeFormData({\n      username: evt.target.value,\n    });\n    this.onChange(newState);\n  }\n\n  mergeFormData(newFormData) {\n    const { formData } = this.props;\n    return Object.assign(formData, newFormData);\n  }\n\n  validateForm(formData) {\n    return formData.username.trim().length > 0 && formData.password.trim().length > 0;\n  }\n\n  render() {\n    const { url, className, isSending, messages: someMessages, placeHolder, header, footer, localToggle, ...props } = this.props;\n    const messages = Object.assign({}, defaultProps.messages, someMessages);\n\n    const { formData, onSubmit, onError, onChange, ...rest } = props;\n    return (\n      <Form action={url} name=\"login-form\" className={cn('form', className)} onSubmit={this.onSubmit} {...rest}>\n        {header}\n        <div className=\"form__field-wrapper\">\n          <input\n            className=\"form__field-input\"\n            name=\"username\"\n            type=\"text\"\n            placeholder={placeHolder.username}\n            onChange={this.changeUsername}\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            spellCheck=\"false\"\n          />\n          <label className=\"form__field-label\" htmlFor=\"username\">{messages.username}</label>\n        </div>\n        <div className=\"form__field-wrapper\">\n          <input\n            className=\"form__field-input\"\n            name=\"password\"\n            type=\"password\"\n            placeholder={placeHolder.password}\n            onChange={this.changePassword}\n          />\n          <label className=\"form__field-label\" htmlFor=\"password\">{messages.password}</label>\n        </div>\n        <div className=\"form__submit-btn-wrapper\">\n          {isSending ? (\n            <LoadingButton disabled color=\"primary\">\n              {messages.buttonLogin}{' '}\n              <LoadingIndicator />\n            </LoadingButton>\n          ) : (\n            <div>\n              {localToggle}\n              <Button color=\"success\">\n                {messages.buttonLogin}\n              </Button>\n            </div>\n          )}\n        </div>\n        {footer}\n      </Form>\n    );\n  }\n}\n\nconst LoginForm = styled(LoginFormUnstyled)`\n  ${(props) => `\n    .form__field-wrapper {\n      width: 100%;\n      position: relative;\n      padding-top: 1.75em;\n      border-top: 1px solid ${props.theme.loginForm['$color-lighter']};\n      border-bottom: 1px solid ${props.theme.loginForm['$color-lighter']};\n      background-color: ${props.theme.loginForm['$background-color']};\n    }\n    \n    .form__field-wrapper + .form__field-wrapper {\n      border-top: none;\n    }\n    \n    .form__field-input:focus ~ .form__field-label {\n      color: ${props.theme.loginForm.$color};\n      background-color: ${props.theme.loginForm['$color-lighter']};\n    }\n    \n    .form__field-input:focus {\n      background-color: ${props.theme.loginForm['$color-lighter']};\n      color: ${props.theme.loginForm['$color-dark']};\n    }\n    \n    .form__field-label {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      padding: 16px;\n      padding-top: 20px;\n      padding-bottom: 0;\n      margin: 0;\n      z-index: 1;\n      font-size: .8em;\n      color: ${props.theme.loginForm['$color-light']};\n      font-weight: 400;\n      user-select: none;\n      cursor: text;\n    }\n    \n    .form__field-input {\n      position: relative;\n      padding: 1.625em 16px;\n      width: 100%;\n      color: ${props.theme.loginForm.$color};\n      border: none;\n      font-family: inherit;\n      outline: 0;\n      letter-spacing: 0.05em;\n    }\n    \n    .form__submit-btn-wrapper {\n      padding: 2em 1em;\n      width: 100%;\n      background-color: ${props.theme.loginForm['$background-color']};\n      display: flex;\n      justify-content: center;\n    }\n  `}\n`;\n\nLoginForm.defaultProps = defaultProps;\n\nexport default LoginForm;\n","/**\n * FormPageWrapper\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Small, boxShadow, radius, makeTheme } from 'bootstrap-styled';\nimport styled, { keyframes } from 'styled-components';\nimport cn from 'classnames';\nimport themeLoginForm from './theme';\nimport LoginForm from './LoginForm';\nconst theme = makeTheme(themeLoginForm);\n\nexport const defaultProps = {\n  url: '/',\n  logo: null,\n  version: null,\n  formData: {\n    username: '',\n    password: '',\n  },\n  onSubmit: null,\n  onChange: null,\n  onError: null,\n  isSending: false,\n  success: null,\n  error: null,\n  messages: {\n    title: 'Login',\n    username: 'Username',\n    password: 'Password',\n    buttonLogin: 'Login',\n    error: 'Please fill out the entire form',\n  },\n  theme,\n};\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass FormPageWrapperUnstyled extends React.Component {\n  static defaultProps = defaultProps;\n  static propTypes = {\n    logo: PropTypes.string,\n    version: PropTypes.string,\n    className: PropTypes.string.isRequired,\n    url: PropTypes.string,\n    isSending: PropTypes.bool,\n    onSubmit: PropTypes.func,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    formData: PropTypes.shape({\n      username: PropTypes.string,\n      password: PropTypes.string,\n    }).isRequired,\n    success: PropTypes.any,\n    error: PropTypes.any,\n    messages: PropTypes.shape({\n      title: PropTypes.string,\n      username: PropTypes.string,\n      password: PropTypes.string,\n      buttonLogin: PropTypes.string,\n      error: PropTypes.string,\n    }),\n  };\n\n  render() {\n    const {\n      logo,\n      version,\n      className,\n      url,\n      isSending,\n      onSubmit,\n      onError,\n      onChange,\n      formData,\n      success,\n      error,\n      messages: someMessages,\n    } = this.props;\n\n    const messages = Object.assign({}, defaultProps.messages, someMessages);\n\n    return (\n      <div className={cn(className, 'form-page__wrapper')}>\n        <div className=\"form-page__form-wrapper\">\n          <div className=\"form-page__form-header text-center\">\n            <h2 className=\"form-page__form-heading\">{messages.title}</h2>\n            {logo}\n          </div>\n          {success && <Alert className=\"mx-2 alert-success\">{success}</Alert>}\n          {error && <Alert className=\"mx-2 alert-danger\">{error}</Alert>}\n          <LoginForm\n            url={url}\n            formData={formData}\n            onSubmit={onSubmit}\n            onChange={onChange}\n            onError={onError}\n            isSending={isSending}\n            messages={messages}\n          />\n          {version && (\n            <Small className=\"text-center d-block\">\n              {version}\n            </Small>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst shake = keyframes`\n  0% {\n    transform: translateX(0);\n  }\n  25% {\n    transform: translateX(10px);\n  }\n  75% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n`;\n\nconst FormPageWrapper = styled(FormPageWrapperUnstyled)`\n  ${(props) => `\n  \n    margin-top: calc(${props.theme.$spacer * 1.25});\n    \n    &.form-page__wrapper {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      width: 100%;\n    }\n    \n    .form-page__form-wrapper {\n      max-width: ${props.theme.loginForm['$max-width']};\n      width: 100%;\n      border: 1px solid ${props.theme.loginForm['$color-lighter']};\n      ${radius.all(props.theme['$enable-rounded'], props.theme.loginForm['$border-radius'])}      \n      ${boxShadow(props.theme['$enable-shadows'], props.theme.loginForm['$box-shadow'])}\n      background-color: ${props.theme.loginForm['$background-color']};\n    }\n    \n    .form-page__form-heading {\n      text-align: center;\n      font-size: ${props.theme['$font-size-base']};\n      user-select: none;\n    }\n    \n    .form-page__form-header {\n      padding: ${props.theme.$spacer};\n    }\n    \n    & .js-form__err-animation {\n      animation: ${shake} ${props.theme['$motion-delay'].sm} ${props.theme['$motion-timing-function'].easeInOut}\n    }\n\n  `}\n`;\n\nFormPageWrapper.defaultProps = defaultProps;\n\nexport default FormPageWrapper;\n"],"names":["theme","newTheme","loginForm","u","$color","makeTheme","themeLoginForm","defaultProps","loadingButtonDefaultProps","LoadingButton","styled","Button","props","LoginFormUnstyled","onSubmit","e","preventDefault","_this","formData","onError","messages","isValidated","validateForm","Error","error","changePassword","newState","mergeFormData","target","value","onChange","changeUsername","evt","this","newFormData","Object","assign","username","trim","length","password","url","className","isSending","someMessages","placeHolder","header","footer","localToggle","rest","React","action","name","cn","htmlFor","disabled","color","buttonLogin","LoadingIndicator","Component","propTypes","PropTypes","node","string","bool","isRequired","func","shape","LoginForm","FormPageWrapperUnstyled","logo","version","success","title","any","shake","keyframes","FormPageWrapper","$spacer","radius","all","boxShadow","sm","easeInOut"],"mappings":"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"}